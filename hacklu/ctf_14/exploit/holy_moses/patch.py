#!/usr/bin/env python

import chdrft.utils as utils
import subprocess as sp
import elftools.elf.elffile as EF

in_file = './saloon'
out_file = './saloon_patched'

sp.check_call(['cp', in_file, out_file])
# 138b -> jmp 154b
jump_val = 0x154b-0x138b


patch = utils.get_disassembly('jmp %d' % jump_val)
print(patch)
print(utils.get_assembly(patch))
utils.patch_file(out_file, 0x138b, patch)
